Chapter 2
================
Abhishek Nandy

Insertion sort
--------------

The insertion sort algorithm along with the pseudo code is provided in Section 2.1 of the book. We provide a function called "insertion\_sort" in C to implement an insertion sort and execute it to sort an array of integers randomly generated by the function "rand\_array". To keep things simple we limit our computations to integers.

``` rcpp
#include <stdio.h>
#include <stdlib.h>

#define length   10
#define rand_max 25

int * rand_array(int range);
void insertion_sort( int* arr , int size);

void main(){

int *my_arr;

my_arr  = rand_array( rand_max );

int unsorted[ length ];
int i, j, key;

for(i = 0; i < length; ++i){

         unsorted[ i ] = *(my_arr + i);       
         printf("%d ", unsorted[ i ]);

}

printf("\n");

insertion_sort(unsorted, length);

printf("\n");

for( i = 0; i < length; ++i){

                printf("%d ", unsorted[i]);

}

printf("\n");

 

}

 

int * rand_array(int range){
       static int arr[length];
       int i;
       for( i = 0; i < length; ++i){

                  arr[i] = rand() % range;

       }

       return arr;

}

 
void insertion_sort( int* arr, int size ){

    int i, j, key;

    for( i = 1; i < size; ++i ){
        key = *(arr + i);
        j = i-1;
        while( j >= 0 && *(arr + j) > key ){

            *(arr + j + 1) = *(arr + j);
            --j;
        }
        *(arr + j + 1) = key;
    }
    
}
 
```

Merge sort
----------

There are two functions here. The function "merge\_fn" merges two sorted subarray, while preserving order. The function "merge\_sort" recursive calls itself to sort subarrays and then merges the sorted subarrays using the "merge\_fn" function. In main we create an array and sort it using the function "merge\_sort". We restrict all our computations to int to keep things simple.

``` rcpp
#include <stdio.h>

#define LARGE 10000000

void merge_fn( int* A, int p, int q, int r );
void merge_sort( int *A, int p, int r );

void main(){

int i;
int A[11] = {4, 5, 6, 1, 2, 3, 9, 8, 15, 13, 14};

for( i = 0; i < 11; ++i)
      printf("%d ", *(A + i));

printf("\n");

merge_sort( A, 0, 10);

for( i = 0; i < 11; ++i)
        printf("%d ", *(A + i));

printf("\n");

}

 

void merge_fn( int* A, int p, int q, int r ){

          int L[ q - p  + 2], R[ r - q +1];
          int i = 0, j = 0, k = 0;
          
          for( i = 0; i < (q - p +1); ++i ){
                    *( L + i ) = *( A + p + i );
                    }

          for( i = 0; i < (r - q ); ++i ){
                    *( R + i ) = *( A + q + 1 + i );
                    }

          *( L + q - p + 1 ) = *( R + r - q ) = LARGE;
          for( i = p; i <= r; ++i ){
                    if( *( L + j ) < *( R + k ) ){
                                   *( A + i ) = *( L + j );
                                   ++j;
                                  }
                    else{
                                   *( A + i ) = *( R + k );
                                   ++k;
                  }
          }

}

 

void merge_sort( int* A, int p, int r ){

                int q;

                if( p < r ){

                q = (p + r)/2;

                merge_sort( A, p, q);

                merge_sort( A, q+1, r);

                merge_fn( A, p, q, r);

                }

}
```
